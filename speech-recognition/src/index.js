import SpeechRecognitionHelper from "./speech-recognition-helper";
import summaryHelper from "./openai-summary-helper";

const tags = [
  { title: "Pijn in borst" },
  { title: "Hoesten" },
  { title: "Longen" },
  { title: "Griep" },
  { title: "Corona" },
  { title: "Diabetes" },
  { title: "Fiets" },
  { title: "Pijn bij beweging" },
  { title: "Spieren" },
  { title: "Stress" },

  { title: "Aambeien" },
  { title: "Aangeboren staar" },
  { title: "Aangezichtspijn" },
  { title: "Aangezichtsverlamming van Bell" },
  { title: "Aardbeivlek" },
  { title: "Achillespees-blessure" },
  { title: "Acne" },
  { title: "Actinische keratose" },
  { title: "Aderontsteking" },
  { title: "ADHD" },
  { title: "Adrenogenitaal syndroom" },
  { title: "Aften" },
  { title: "Alcohol" },
  { title: "Allergie" },
  { title: "ALS" },
  { title: "Alström syndroom" },
  { title: "Alvleesklierkanker" },
  { title: "Amputatie van een been" },
  { title: "Angst bij kinderen" },
  { title: "Angst- en piekerstoornis" },
  { title: "Angstklachten" },
  { title: "Anorectale malformatie" },
  { title: "Anorexia" },
  { title: "Antibiotica" },
  { title: "Anusscheurtjes" },
  { title: "ARFID" },
  { title: "Artrose" },
  { title: "Artrose in de knie" },
  { title: "Astma bij kinderen" },
  { title: "Astma bij volwassenen" },
  { title: "Atriumfibrilleren" },
  { title: "Autisme" },
  { title: "Axiale spondyloartritis" },
  { title: "Baarmoederhalskanker" },
  { title: "Baarmoederkanker" },
  { title: "Bacteriële gewrichtsontsteking" },
  { title: "Bacteriën die ongevoelig zijn voor antibiotica" },
  { title: "Basaalcelkanker" },
  { title: "Bedplassen" },
  { title: "Bedwantsen" },
  { title: "Begeleiding van de bedrijfsarts" },
  { title: "Berg" },
  { title: "Beroerte" },
  { title: "Bevalling en erna" },
  { title: "Bezoek aan de huisarts" },
  { title: "Bijbal-ontsteking" },
  { title: "Bijholteontsteking" },
  { title: "Bijtwond" },
  { title: "Bipolaire stoornis" },
  { title: "Blaaskanker" },
  { title: "Blaasontsteking" },
  { title: "Blaasontsteking bij kinderen" },
  { title: "Blauwalg" },
  { title: "Blindedarmontsteking" },
  { title: "Bloed ophoesten" },
  { title: "Bloed uit de vagina" },
  { title: "Bloedarmoede" },
  { title: "Bloedneus" },
  { title: "Bloeduitstorting in het oogwit" },
  { title: "Bloedverdunners" },
  { title: "Bloedverlies uit de anus" },
  { title: "Bof" },
  { title: "Borstkanker" },
  { title: "Borstkanker opsporen" },
  { title: "Borstvergroting" },
  { title: "Borstvoeding" },
  { title: "Borstzwelling bij mannen" },
  { title: "Botontkalking" },
  { title: "Boulimia" },
  { title: "Brandwonden" },
  { title: "Bronchitis" },
  { title: "Buikgriep" },
  { title: "Buikpijn" },
  { title: "Buikpijn bij kinderen" },
  { title: "Buitenbaarmoederlijke zwangerschap" },
  { title: "Bult in de knieholte" },
  { title: "Cannabis" },
  { title: "Cardiomyopathie" },
  { title: "Carpaletunnelsyndroom" },
  { title: "Chikungunya" },
  { title: "Chlamydia" },
  { title: "Cholesterol" },
  { title: "Chronische pijn" },
  { title: "Clusterhoofdpijn" },
  { title: "CMTC" },
  { title: "Coeliakie" },
  { title: "Colitis ulcerosa" },
  { title: "Communicatie, hoorproblemen en verstandelijke beperkingen" },
  { title: "Condooms" },
  { title: "Contractuur van Dupuytren" },
  { title: "Conversiestoornis" },
  { title: "COPD" },
  { title: "Corona" },
  { title: "CT-scan" },
  { title: "Cyste op de eierstok" },
  { title: "Darmkanker" },
  { title: "Darmonderzoek" },
  { title: "DCD" },
  { title: "De pil" },
  { title: "Delier" },
  { title: "Delier bij kinderen" },
  { title: "Dementie" },
  { title: "Denken aan zelfdoding" },
  { title: "Depressie" },
  { title: "Depressie na de bevalling" },
  { title: "Diabetes insipidus" },
  { title: "Diabetes type 1" },
  { title: "Diabetes type 2" },
  { title: "Diarree" },
  { title: "Difterie" },
  { title: "Dikke enkels of onderbenen" },
  { title: "Dikke ogen of lippen" },
  { title: "Dissociatieve stoornis" },
  { title: "Diverticulitis" },
  { title: "DNA-onderzoek bij medicijnen" },
  { title: "Downsyndroom" },
  { title: "Draaiduizeligheid" },
  { title: "Droge huid" },
  { title: "Droge ogen" },
  { title: "Drugs" },
  { title: "Drukplek" },
  { title: "Duizelig" },
  { title: "Dwangstoornis" },
  { title: "Dwarslaesie" },
  { title: "Ebola" },
  { title: "Echo" },
  { title: "Eczeem" },
  { title: "Eczeem door erfelijke aanleg" },
  { title: "Eczeem met schilfers op hoofd, gezicht of oren" },
  { title: "Eenzaamheid" },
  { title: "Eetbuistoornis" },
  { title: "Eetprobleem" },
  { title: "Eetstoornis" },
  { title: "Eierstokkanker" },
  { title: "Eikelontsteking" },
  { title: "Eikenprocessierups" },
  { title: "Elleboog uit de kom" },
  { title: "Endeldarmontsteking" },
  { title: "Endocarditis" },
  { title: "Endometriose" },
  { title: "Epilepsie" },
  { title: "Episcleritis" },
  { title: "Erfelijke ziekte" },
  { title: "Ernstige verwondingen" },
  { title: "Erythrasma" },
  { title: "Essentiële tremor" },
  { title: "Etalagebenen" },
  { title: "Evenwichts-migraine" },
  { title: "Facioscapulohumerale dystrofie" },
  { title: "Fenomeen van Raynaud" },
  { title: "Fibrodysplasia ossificans progressiva" },
  { title: "Fibromyalgie" },
  { title: "Fijt" },
  { title: "Flauwvallen" },
  { title: "Fobie" },
  { title: "Galstenen" },
  { title: "Ganglion" },
  { title: "Gebroken heup" },
  { title: "Gebroken pols" },
  { title: "Gebroken wervel" },
  { title: "Geel bultje op oogwit" },
  { title: "Gekneusde of gebroken rib" },
  { title: "Gekneusde of verrekte knie" },
  { title: "Gele baby" },
  { title: "Genitale wratten" },
  { title: "Gescheurd trommelvlies" },
  { title: "Gevoelig voor bepaald fruit en noten" },
  { title: "Geweld thuis" },
  { title: "Gewrichtsklachten" },
  { title: "Gezond leven" },
  { title: "Gezondheidstest" },
  { title: "Glasvochtloslating" },
  { title: "Glaucoom" },
  { title: "Golfarm" },
  { title: "Gonorroe" },
  { title: "Gordelroos" },
  { title: "GPA (ziekte van Wegener)" },
  { title: "Griep" },
  { title: "Groei kind" },
  { title: "Groep A streptokok" },
  { title: "Haarnestcyste" },
  { title: "Haartong" },
  { title: "Haaruitval" },
  { title: "Hagelkorreltje (in het ooglid)" },
  { title: "Hallux valgus" },
  { title: "Hand-voet-mondziekte" },
  { title: "Hangende oogleden of wenkbrauwen" },
  { title: "Hartfalen" },
  { title: "Hartinfarct" },
  { title: "Hartkloppingen" },
  { title: "Hartkramp" },
  { title: "Heesheid" },
  { title: "Heftige pijn in de balzak" },
  { title: "Hepatitis A" },
  { title: "Hepatitis B" },
  { title: "Hepatitis C" },
  { title: "Hernia in de rug" },
  { title: "Heroïneverslaving" },
  { title: "Herpes genitalis" },
  { title: "Hersenschade en werk" },
  { title: "Hersenvliesontsteking" },
  { title: "Heupdysplasie" },
  { title: "Heupontsteking bij kinderen" },
  { title: "Hidradenitis" },
  { title: "Hielspoor" },
  { title: "Hik" },
  { title: "Hiv" },
  { title: "Hoesten" },
  { title: "Hoge bloeddruk" },
  { title: "Homocystinurie" },
  { title: "Hondsdolheid" },
  { title: "Hoofd-/halsparagangliomen" },
  { title: "Hoofdpijn" },
  { title: "Hoofdschimmel" },
  { title: "Hoogteziekte" },
  { title: "Hooikoorts" },
  { title: "Hoornvliesbeschadiging" },
  { title: "Hoornvliesbeschadiging door fel licht" },
  { title: "Hormoonpleister om niet zwanger te worden" },
  { title: "Hormoonring" },
  { title: "Hormoonstaafje" },
  { title: "Huidkanker" },
  { title: "Huidschimmel" },
  { title: "Huidziekte van Bowen" },
  { title: "Hypermobiele EDS" },
  { title: "Hypochondrie" },
  { title: "IJzerstapeling" },
  { title: "Ingegroeide teennagel" },
  { title: "Insectenbeet" },
  { title: "Jeuk" },
  { title: "Jeuk en zwanger" },
  { title: "Jeuk in de bilspleet" },
  { title: "Jicht" },
  { title: "Kaalheid bij mannen" },
  { title: "Kaalheid bij vrouwen" },
  { title: "Kale plekken" },
  { title: "Kalmeringsmiddelen" },
  { title: "Kanker en werk" },
  { title: "Kapotte mondhoeken" },
  { title: "Keelpijn" },
  { title: "Keizersnede" },
  { title: "Keratoacanthoom" },
  { title: "Keratoconus" },
  { title: "Kijkoperatie in de buik" },
  { title: "Kijkoperatie van de knie" },
  { title: "Kind stopt even met ademen" },
  { title: "Kindermishandeling" },
  { title: "Kinderziekten met vlekjes" },
  { title: "Kinkhoest" },
  { title: "Klachten bij contactlenzen" },
  {
    title:
      "Klachten van een verlamde arm, verlamd been, scheve mond, niet goed praten of niet goed zien",
  },
  { title: "Klaplong" },
  { title: "Knieband verrekt of gescheurd" },
  { title: "Knieklachten" },
  { title: "Knieschijf uit de kom" },
  { title: "Knokkelkoorts" },
  { title: "Koorts" },
  { title: "Koorts bij kinderen" },
  { title: "Koorts na een prik tegen kinderziektes" },
  { title: "Koortslip" },
  { title: "Koortsstuip" },
  { title: "Krentenbaard" },
  { title: "Kuitkrampen 's nachts" },
  { title: "Kunst-schouder" },
  { title: "Kunstheup" },
  { title: "Kunstknie" },
  { title: "Lachgas" },
  { title: "Lage bloeddruk" },
  { title: "Lange tijd of vaak neusklachten" },
  { title: "Lawaaidoofheid" },
  { title: "Levenseinde" },
  { title: "Leverontsteking" },
  { title: "Leverschade" },
  { title: "Leververvetting" },
  { title: "Lichen sclerosus" },
  { title: "Licht gevoel in het hoofd" },
  { title: "Liesbreuk" },
  { title: "Likdoorn" },
  { title: "Longembolie" },
  { title: "Longkanker" },
  { title: "Longontsteking" },
  { title: "Longschade bij een te vroeg geboren baby" },
  { title: "Loopoor" },
  { title: "Lopersknie" },
  { title: "Lui oog" },
  { title: "Luieruitslag" },
  { title: "Luizen op het hoofd" },
  { title: "Maagkanker" },
  { title: "Maagklachten" },
  { title: "Maculadegeneratie" },
  { title: "Malaria" },
  { title: "Malletvinger" },
  { title: "Mastopathie" },
  { title: "Mazelen" },
  { title: "ME/CVS" },
  { title: "Medicijnen bij ouderen" },
  { title: "Medicijnen bij psychose" },
  { title: "Medicijnen en veilig rijden" },
  { title: "Melanoom" },
  { title: "Melasma" },
  { title: "Meniscus gescheurd" },
  { title: "Meralgia paresthetica" },
  { title: "Middenoor-ontsteking" },
  { title: "Migraine" },
  { title: "Minder zien bij kinderen" },
  { title: "Minder zien bij volwassenen" },
  { title: "Minder zin in seks" },
  { title: "Miskraam" },
  { title: "Mody diabetes" },
  { title: "Moedervlekken" },
  { title: "Moeheid" },
  { title: "Mondproblemen" },
  { title: "Morning-afterpil" },
  { title: "Morton neuroom" },
  { title: "Mouches volantes" },
  { title: "MRI" },
  { title: "MS" },
  { title: "Myasthenia gravis" },
  { title: "Nagelriemontsteking" },
  { title: "Narcolepsie" },
  { title: "Navelbreuk" },
  { title: "Nekhernia" },
  { title: "Netelroos" },
  { title: "Netvliesloslating" },
  { title: "Neuritis vestibularis" },
  { title: "Neurofibromatose type 1" },
  { title: "Nierbekkenontsteking" },
  { title: "Nierkanker" },
  { title: "Nierschade" },
  { title: "Niersteen" },
  { title: "Nog niet zwanger geworden" },
  { title: "NSAID" },
  { title: "O- en X-benen bij kinderen" },
  { title: "Omgaan met pijn tijdens de bevalling" },
  { title: "Omgaan met warm weer / hitte" },
  { title: "Onbedoeld zwanger" },
  { title: "Onderzoek door ouderenarts" },
  { title: "Onderzoek van een baby in de buik" },
  { title: "Onderzoeken van het hart" },
  { title: "Ongesteld en veel bloedverlies" },
  { title: "Ongesteldheid uitstellen" },
  { title: "Ontsteking door schimmel in de vagina" },
  { title: "Ontsteking in baarmoeder, eileider of eierstok" },
  { title: "Ontsteking van de gehoorgang" },
  { title: "Ontsteking van de haarzakjes" },
  { title: "Ontsteking van de huid rond de mond" },
  { title: "Ontsteking van de slokdarm door maagzuur" },
  { title: "Ontstoken bloedvat aan de zijkant van het hoofd" },
  { title: "Ontstoken voorhuid" },
  { title: "Onverklaarde lichamelijke klachten" },
  { title: "Oogafwijking bij te vroeg geboren baby" },
  { title: "Ooginfarct" },
  { title: "Oogkneuzing" },
  { title: "Ooglidrandontsteking" },
  { title: "Oogontsteking door herpes" },
  { title: "Oorpijn", aliases: ["pijn aan oor"] },
  { title: "Oorsuizen" },
  { title: "Open been" },
  { title: "Operatie voor de stand van mijn been bij knie-artrose" },
  { title: "Opticusatrofie" },
  { title: "Osgood-Schlatter knie" },
  { title: "Osteogenesis imperfecta" },
  { title: "Ouderdomswrat" },
  { title: "Overactieve blaas" },
  { title: "Overbeharing" },
  { title: "Overgang" },
  { title: "Overgeven" },
  { title: "Overgevoelig of allergisch voor bepaald voedsel" },
  { title: "Overgevoelig voor contrastmiddel" },
  { title: "Overgevoelig voor melk" },
  { title: "Overgevoeligheid voor geluid" },
  { title: "Overgewicht" },
  { title: "Overspannen" },
  { title: "Paniekaanvallen" },
  { title: "Patellofemoraal pijnsyndroom" },
  { title: "Peesirritatie van De Quervain" },
  { title: "Penis minder stijf" },
  { title: "Perianaal abces" },
  { title: "Persoonlijkheidsstoornis" },
  { title: "Pijn aan een pees" },
  { title: "Pijn aan zijkant heup" },
  { title: "Pijn bij ingang vagina" },
  { title: "Pijn en pijnstillers" },
  { title: "Pijn in de balzak" },
  { title: "Pijn in de kuit" },
  { title: "Pijn in de nek" },
  { title: "Pijn onder in buik en in bekken" },
  { title: "Pijn onderin de rug" },
  { title: "Pijn op de borst" },
  { title: "Pityriasis rosea" },
  { title: "PKU" },
  { title: "Plaveiselcelkanker" },
  { title: "Plekje op de huid" },
  { title: "Plekje op de voorhuid" },
  { title: "Plotselinge doofheid" },
  { title: "Polycysteus-ovariumsyndroom (PCOS)" },
  { title: "Polyneuropathie" },
  { title: "Positieduizeligheid (BPPD)" },
  { title: "Posttraumatische stressstoornis" },
  { title: "Premenstrueel syndroom" },
  { title: "Prik tegen pneumokokken" },
  { title: "Prikkelbare darm" },
  { title: "Prikken tegen ziektes (kinderen)" },
  { title: "Prikpil" },
  { title: "Problemen met plassen bij mannen" },
  { title: "Problemen met plassen bij vrouwen" },
  { title: "Problemen thuis" },
  { title: "Prostaatkanker" },
  { title: "Prostaatontsteking" },
  { title: "Prutoogjes bij baby's" },
  { title: "Pseudokroep" },
  { title: "Psoriasis" },
  { title: "Psychische klachten als je jong bent" },
  { title: "Psychische klachten bij volwassenen" },
  { title: "Psychose" },
  { title: "Psychosociale problemen" },
  { title: "Putjeszolen" },
  { title: "Q-koorts" },
  { title: "Ramadan en gezondheid" },
  { title: "Reactieve gewrichtsontsteking" },
  { title: "Reflux bij kinderen" },
  { title: "Reisziekte" },
  { title: "Retinitis pigmentosa" },
  { title: "Rett syndroom" },
  { title: "Reumatoïde artritis" },
  { title: "Risico hart- en vaatziekten verlagen" },
  { title: "Rodehond" },
  { title: "Röntgenfoto's" },
  { title: "Rood oog" },
  { title: "Roodvonk" },
  { title: "Roos" },
  { title: "Rosacea" },
  { title: "Rouw" },
  { title: "RS-virus" },
  { title: "Ruggenprik" },
  { title: "Rusteloze benen" },
  { title: "Sarcoïdose" },
  { title: "Schaamlipkanker" },
  { title: "Schaamluis" },
  { title: "Schade aan de ogen bij diabetes" },
  { title: "Scheelzien bij kinderen" },
  { title: "Scheenbeenklachten" },
  { title: "Schildklierafwijking" },
  { title: "Schimmelnagels" },
  { title: "Schisis" },
  { title: "Schmallenberg-virus" },
  { title: "Schoenen en uw voeten" },
  { title: "Schouderklachten" },
  { title: "Schurft" },
  { title: "Seks" },
  { title: "Seksueel geweld" },
  { title: "Seksuele klachten mannen" },
  { title: "Seksuele klachten vrouwen" },
  { title: "Sepsis" },
  { title: "Sikkelcelziekte" },
  { title: "Slaapapneu" },
  { title: "Slaapproblemen" },
  { title: "Slecht horen" },
  { title: "Slechte adem" },
  { title: "Slijmbeursontsteking elleboog" },
  { title: "Slijmbeursontsteking van de knie" },
  { title: "Slijmoor" },
  { title: "Slikproblemen" },
  { title: "Slokdarmkanker" },
  { title: "Smetplekken" },
  { title: "Snel dingen vergeten" },
  { title: "Snel klaarkomen" },
  { title: "Snurken" },
  { title: "Soa" },
  { title: "Sociale-angststoornis" },
  { title: "Somberheid" },
  { title: "Spanningshoofdpijn" },
  { title: "Spataderen" },
  { title: "Speekselsteen" },
  { title: "Spierreuma" },
  { title: "Spierziekte Duchenne" },
  { title: "Spiraaltje" },
  { title: "Sportblessure" },
  { title: "Springersknie" },
  { title: "Spruw" },
  { title: "Staar" },
  { title: "Steenpuist" },
  { title: "Stemmen horen" },
  { title: "Sterilisatie bij de man" },
  { title: "Sterilisatie bij de vrouw" },
  { title: "Stofwisselingsziekten" },
  { title: "Stoppen met roken" },
  { title: "Stotteren" },
  { title: "Strakke voorhuid" },
  { title: "Stress" },
  { title: "Strontje (in het ooglid)" },
  { title: "Syfilis" },
  { title: "Syndroom van Cushing" },
  { title: "Syndroom van Tietze" },
  { title: "Taaislijmziekte" },
  { title: "Talgkliercyste" },
  { title: "Tanden verzorgen" },
  { title: "Te dikke hartspier" },
  { title: "Te langzaam werkende schildklier" },
  { title: "Te snel werkende schildklier" },
  { title: "Te veel afgevallen" },
  { title: "Te veel of verkeerd ademen" },
  { title: "Te vroeg gesloten schedelnaden" },
  { title: "Tekenbeet" },
  { title: "Tennisarm" },
  { title: "Tetanus" },
  { title: "Tranende ogen" },
  { title: "Trichomonas" },
  { title: "Triggervinger" },
  { title: "Trillende ogen" },
  { title: "Trombose in het oog" },
  { title: "Trombosebeen" },
  { title: "Trommelvlies-buisjes" },
  { title: "Uitdroging" },
  { title: "Uitpuilende ogen" },
  { title: "Uitstrijkje baarmoederhals" },
  { title: "Urineverlies bij vrouwen" },
  { title: "Uveïtis" },
  { title: "Val of klap op het hoofd" },
  { title: "Vallen voorkomen en veilig wonen" },
  { title: "Veel bloedverlies bij de bevalling" },
  { title: "Verandering van een borst" },
  { title: "Verdoving bij oogoperaties" },
  { title: "Vergrote lymfeklier" },
  { title: "Vergrote nieren bij baby's" },
  { title: "Verkouden" },
  { title: "Vermoeidheid bij kanker die niet meer te genezen is" },
  { title: "Vernauwing of afsluiting beenslagader" },
  { title: "Vernauwing van de halsslagader" },
  { title: "Vernauwing van het wervelkanaal" },
  { title: "Verstopping" },
  { title: "Verstopt oor" },
  { title: "Verstopte traanbuis" },
  { title: "Verwijde buikslagader" },
  { title: "Verzakking" },
  { title: "Verzwikte enkel" },
  { title: "Vetbultje" },
  { title: "Vijfde ziekte" },
  { title: "Vitamine B12" },
  { title: "Vitamine D" },
  { title: "Vitiligo" },
  { title: "Vleesboom" },
  { title: "Vleugelvlies op het oog" },
  { title: "Vocht uit de vagina" },
  { title: "Vocht uit je penis en pijn bij plassen" },
  { title: "Vochtblaasje in het netvlies" },
  { title: "Voedselinfectie" },
  { title: "Voetschimmel" },
  { title: "Vogelgriep" },
  { title: "Vuiltje of splinter in het oog" },
  { title: "Waterpokken" },
  { title: "Waterwratjes" },
  { title: "Wensen voor zorg en behandeling" },
  { title: "Winterhanden en wintertenen" },
  { title: "Wonden" },
  { title: "Wondroos" },
  { title: "Wormen" },
  { title: "Wormpjes" },
  { title: "Wratten" },
  { title: "Zenuwen klem in buikwand" },
  { title: "Zenuwontsteking in de schouder" },
  { title: "Zenuwpijn" },
  { title: "Zesde ziekte" },
  { title: "Ziek kind" },
  { title: "Ziekte op reis voorkomen" },
  { title: "Ziekte van Addison" },
  { title: "Ziekte van Crohn" },
  { title: "Ziekte van Gaucher" },
  { title: "Ziekte van Kawasaki" },
  { title: "Ziekte van Lyme" },
  { title: "Ziekte van Ménière" },
  { title: "Ziekte van Paget" },
  { title: "Ziekte van Parkinson" },
  { title: "Ziekte van Peyronie" },
  { title: "Ziekte van Pfeiffer" },
  { title: "Ziekte van Scheuermann" },
  { title: "Zikakoorts" },
  { title: "Zomergist" },
  { title: "Zon en zonnebrand" },
  { title: "Zonneallergie" },
  { title: "Zorg voor en na operaties" },
  { title: "Zwakke plek in een bloedvat in het hoofd" },
  { title: "Zwanger" },
  { title: "Zwanger en de GBS bacterie" },
  { title: "Zwanger en hoge bloeddruk" },
  { title: "Zwanger van een tweeling" },
  { title: "Zwanger worden" },
  { title: "Zwanger worden en erfelijke ziektes" },
  { title: "Zwanger, misselijk en overgeven" },
  { title: "Zwangerschap voorkomen" },
  { title: "Zwangerschapsdiabetes" },
  { title: "Zweepslag in de kuit" },
  { title: "Zwemmersjeuk" },
  { title: "Zweten" },
];

for (const tag of tags) {
  tag.aliases = [...(tag.aliases ?? []), normalize(tag.title)];
}

function normalize(text) {
  return text
    .normalize("NFD")
    .replace(/[\u0300-\u036f]/g, "")
    .toLowerCase()
    .replace(/\b(de|het)\b/g, "")
    .replace(/[^\w]+/g, " ");
}

function c(tagName, attributes, children) {
  const element = document.createElement(tagName);
  for (const [key, value] of Object.entries(attributes)) {
    element.setAttribute(key, value);
  }
  for (const child of children) {
    element.appendChild(child);
  }
  return element;
}

function createTagElement(tag, { type }) {
  return c("button", { class: `tag ${type}` }, [
    c("img", { class: "icon", src: `${type}.svg` }, []),
    c("span", { class: "label" }, [document.createTextNode(tag.title)]),
  ]);
}

function manageTagContainer({ input, tagContainer }) {
  const addedTags = new Set();
  let inputText = "";

  function render() {
    const text = normalize(inputText);
    const potentialTags = tags
      .filter((tag) => tag.aliases.some((alias) => text.includes(alias)))
      .filter((tag) => !addedTags.has(tag));

    tagContainer.innerHTML = "";

    for (const tag of addedTags) {
      const tagElement = createTagElement(tag, { type: "check" });
      tagElement.onclick = () => {
        addedTags.delete(tag);
        requestRender();
      };
      tagContainer.appendChild(tagElement);
    }
    for (const tag of potentialTags) {
      const tagElement = createTagElement(tag, { type: "plus" });
      tagElement.onclick = () => {
        addedTags.add(tag);
        requestRender();
      };
      tagContainer.appendChild(tagElement);
    }
  }

  function requestRender() {
    requestAnimationFrame(render);
  }

  setInterval(() => {
    const newInputText = input.textContent;
    if (inputText !== newInputText) {
      inputText = newInputText;

      requestRender();
    }
  }, 100);
}

window.addEventListener("load", () => {
  const startButton = document.getElementById("start");
  const inputElement = document.querySelector(".input");
  const speech = new SpeechRecognitionHelper("nl-NL");

  const tagContainer = document.querySelector("#tag-container");
  manageTagContainer({ input: document.getElementById("input"), tagContainer });

  if (speech.available) {
    startButton.addEventListener("click", async () => {
      if (speech.listening) {
        speech.stop();
        startButton.classList.remove("active");
        const inputText = inputElement.innerText;
        document
          .querySelectorAll(".input .final, .input .probable, .input .interim")
          .forEach((elm) => elm.remove());
        inputElement.innerText = inputText;
      } else {
        speech.setSpeechHandler((text) => {
          document.querySelector("#input .final").innerHTML = text.final;
          document.querySelector("#input .probable").innerHTML = text.probable;
          document.querySelector("#input .interim").innerHTML = text.interim;
        });

        inputElement.innerHTML += `
          <span class="final"></span>
          <span class="probable"></span>
          <span class="interim"></span>
        `;
        speech.start();
        startButton.classList.add("active");
      }
    });
  }

  // const summaryButton = document.getElementById("summarize");
  // const summaryOutput = document.getElementById("summary");

  // summaryButton.addEventListener("click", async () => {
  //   const text = inputElement.innerText;
  //   summaryOutput.innerText = await summaryHelper(text, 100);
  // });
});
